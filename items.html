<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ARC Raiders Items Recycling Search</title>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-8X8ZWR5KJ6"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-8X8ZWR5KJ6");
    </script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 12px;
        padding: 30px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
      }

      .header h1 {
        color: #1e3c72;
        font-size: 2.5em;
        margin-bottom: 10px;
      }

      .header p {
        color: #666;
        font-size: 1.1em;
      }

      .search-box {
        position: relative;
        margin-bottom: 30px;
      }

      .search-input {
        width: 100%;
        padding: 15px 20px;
        font-size: 1.1em;
        border: 2px solid #ddd;
        border-radius: 8px;
        outline: none;
        transition: border-color 0.3s;
      }

      .search-input:focus {
        border-color: #2a5298;
      }

      .results-container {
        margin-top: 20px;
      }

      .result-item {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #ffffff;
        padding: 15px 20px;
        margin-bottom: 12px;
        border-radius: 8px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        transition: transform 0.2s, box-shadow 0.2s;
        cursor: pointer;
      }

      .result-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .result-item.keep-quest {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      }

      .result-item.keep-project {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      }

      .result-item.safe-recycle {
        background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
      }

      .result-item.workshop {
        background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
      }

      .item-name {
        font-size: 1.3em;
        font-weight: bold;
        margin-bottom: 5px;
        color: #ffffff;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
      }

      .item-category {
        font-size: 0.9em;
        color: #ffffff;
        opacity: 1;
        text-transform: uppercase;
        letter-spacing: 1px;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
      }

      .no-results {
        text-align: center;
        padding: 40px;
        color: #999;
        font-size: 1.2em;
      }

      .stats {
        text-align: center;
        color: #666;
        margin-bottom: 20px;
        font-size: 0.95em;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useMemo } = React;

      // All items extracted from the cheat sheet
      const itemsData = {
        keepForQuests: [
          "Leaper Pulse Unit",
          "Power Rod",
          "Rocketeer Driver",
          "Surveyor Vault",
          "Antiseptic",
          "Hornet Driver",
          "Syringe",
          "Wasp Driver",
          "Water Pump",
          "Snitch Scanner",
        ],
        keepForProjects: [
          "Leaper Pulse Unit",
          "Magnetic Accelerator",
          "Exodus Module",
          "Adv. Electrical Components",
          "Humidifier",
          "Sensors",
          "Cooling Fan",
          "Battery",
          "Light Bulb",
          "Electrical Components",
          "Wires",
          "Durable Cloth",
          "Steel Spring",
          "ARC Alloy Plate",
          "Rubber Parts",
          "Metal Parts",
        ],
        safeToRecycle: [
          "Accordion",
          "Alarm Clock",
          "ARC Coolant",
          "ARC Flex Rubber",
          "ARC Performance Steel",
          "ARC Synthetic Resin",
          "ARC Thermo Lining",
          "Bicycle Pump",
          "Broken Flashlight",
          "Broken Guidance System",
          "Broken Handcuffs",
          "Broken Handheld Radio",
          "Broken Taser",
          "Burned ARC Circuitry",
          "Camera Lens",
          "Candle Holder",
          "Coolant",
          "Cooling Coil",
          "Crumped Plastic Box",
          "Damaged ARC Motion Core",
          "Damaged ARC Powercell",
          "Deflated Football",
          //"Damaged Fuel Canister",
          "Diving Goggles",
          "Dried-out ARC Resin",
          "Expired Respirator",
          "Flute",
          "Frying Pan",
          "Garlic Press",
          "Headphones",
          "Ice Cream Scooper",
          "Household Cleaner",
          "Impure ARC Coolant",
          "Industrial Charger",
          "Industrial Magnet",
          "Metal Brackets",
          "Number Plate",
          "Polluted Air Filter",
          "Portable TV",
          "Power Bank",
          "Projector",
          "Propeller",
          "Radio",
          "Remote Control",
          "Ripped Safety Vest",
          "Rollbot Part",
          "Rubber Plate",
          "Ruined Accordion",
          "Ruined Baton",
          "Ruined Handcuffs",
          "Ruined Parachute",
          "Ruined Riot Shield",
          "Ruined Tactical Vest",
          "Rusted Bolts",
          "Rusty ARC Steel",
          "Spotter Relay",
          "Spring Cushion",
          "Tattered ARC Lining",
          "Tattered Clothes",
          "Thermostat",
          "Torn Blanket",
          "Turbo Pump",
          "Water Filter",
        ],
        workshopUpgrades: {
          Scrappy: [
            "Dog Collar",
            "Lemon",
            "Apricot",
            "Prickly Pear",
            "Olives",
            "Cat Bed",
            "Mushroom",
            "Very Comfortable Pillow",
          ],
          Gunsmith: [
            "Rusted Tools",
            "Mechanical Components",
            "Wasp Driver",
            "Adv. Mechanical Components",
            "Sentinel Firing Core",
          ],
          "Gear Bench": [
            "Power Cable",
            "Hornet Driver",
            "Electrical Components",
            "Industrial Battery",
            "Adv. Electrical Components",
            "Bastion Cell",
          ],
          "Medical Lab": [
            "Cracked Bioscanner",
            "Durable Cloth",
            "Tick Pod",
            "Rusted Shut Medical Kit",
            "Antiseptic",
            "Surveyor Vault",
          ],
          Refiner: [
            "Toaster",
            "ARC Motion Core",
            "Fireball Burner",
            "Motor",
            "ARC Circuitry",
            "Bombardier Cell",
          ],
          "Explosives Station": [
            "Synthesized Fuel",
            "Crude Explosives",
            "Pop Trigger",
            "Laboratory Reagents",
            "Explosive Compound",
            "Rocketeer Driver",
          ],
          "Utility Station": [
            "Damaged Heat Sink",
            "Electrical Components",
            "Snitch Scanner",
            "Fried Motherboard",
            "Adv. Electrical Components",
            "Leaper Pulse Unit",
          ],
        },
      };

      // Flatten all items with their categories
      const allItems = [];

      itemsData.keepForQuests.forEach((item) => {
        allItems.push({
          name: item,
          category: "Keep for Quests",
          type: "keep-quest",
        });
      });

      itemsData.keepForProjects.forEach((item) => {
        if (!allItems.find((i) => i.name === item)) {
          allItems.push({
            name: item,
            category: "Keep for Projects",
            type: "keep-project",
          });
        }
      });

      itemsData.safeToRecycle.forEach((item) => {
        if (!allItems.find((i) => i.name === item)) {
          allItems.push({
            name: item,
            category: "Safe to Recycle",
            type: "safe-recycle",
          });
        }
      });

      Object.entries(itemsData.workshopUpgrades).forEach(
        ([workshop, items]) => {
          items.forEach((item) => {
            const existingItem = allItems.find((i) => i.name === item);
            if (existingItem) {
              existingItem.workshop = workshop;
            } else {
              allItems.push({
                name: item,
                category: "Workshop Upgrades",
                workshop: workshop,
                type: "workshop",
              });
            }
          });
        }
      );

      // Fuzzy search function
      function fuzzySearch(searchTerm, items) {
        if (!searchTerm) return items;

        const term = searchTerm.toLowerCase();

        return items
          .map((item) => {
            const itemName = item.name.toLowerCase();
            let score = 0;

            // Exact match gets highest score
            if (itemName === term) {
              score = 1000;
            }
            // Starts with search term
            else if (itemName.startsWith(term)) {
              score = 500;
            }
            // Contains the exact search term
            else if (itemName.includes(term)) {
              score = 250;
            }
            // Fuzzy match - all characters present in order
            else {
              let termIndex = 0;
              let lastFoundIndex = -1;

              for (
                let i = 0;
                i < itemName.length && termIndex < term.length;
                i++
              ) {
                if (itemName[i] === term[termIndex]) {
                  score += 10;
                  if (i === lastFoundIndex + 1) {
                    score += 5; // Bonus for consecutive matches
                  }
                  lastFoundIndex = i;
                  termIndex++;
                }
              }

              // If not all characters found, score is 0
              if (termIndex < term.length) {
                score = 0;
              }
            }

            return { ...item, score };
          })
          .filter((item) => item.score > 0)
          .sort((a, b) => b.score - a.score);
      }

      function App() {
        const [searchTerm, setSearchTerm] = useState("");

        const filteredItems = useMemo(() => {
          return fuzzySearch(searchTerm, allItems);
        }, [searchTerm]);

        return (
          <div className="container">
            <div className="header">
              <h1>ðŸŽ® ARC Raiders Recycling Search</h1>
              <p>
                Search for any item to find out if you should keep or
                recycle/sell it
              </p>
            </div>

            <div className="search-box">
              <input
                type="text"
                className="search-input"
                placeholder="Type to search items (e.g., 'pistol', 'wire', 'boots')..."
                value={searchTerm}
                onChange={(e) => setSearchTerm(e.target.value)}
                autoFocus
              />
            </div>

            <div className="stats">
              {searchTerm ? (
                <>
                  Showing {filteredItems.length} result
                  {filteredItems.length !== 1 ? "s" : ""}
                </>
              ) : (
                <>Total items in database: {allItems.length}</>
              )}
            </div>

            <div className="results-container">
              {filteredItems.length > 0 ? (
                filteredItems.map((item, index) => (
                  <div key={index} className={`result-item ${item.type}`}>
                    <div className="item-name">{item.name}</div>
                    <div className="item-category">
                      {item.category}
                      {item.workshop && ` â†’ ${item.workshop}`}
                    </div>
                  </div>
                ))
              ) : searchTerm ? (
                <div className="no-results">
                  No items found matching "{searchTerm}"
                </div>
              ) : (
                <div className="no-results">
                  Start typing to search for items...
                </div>
              )}
            </div>
          </div>
        );
      }

      ReactDOM.render(<App />, document.getElementById("root"));
    </script>
  </body>
</html>
